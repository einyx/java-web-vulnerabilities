package de.marko.pentest.parser;

import com.fasterxml.jackson.core.JsonParser;
import com.fasterxml.jackson.databind.ObjectMapper;
import java.io.IOException;

/**
 * @author marko
 * @version 1.0.0.
 * @date 19.08.2017
 */
public interface JacksonParser<T> {

	default T parseJackson(Class<T> clazz, String json) throws IOException {

		ObjectMapper mapper = new ObjectMapper();

		mapper.enableDefaultTyping();
		// JSON specification, it requires the use of double quotes for field names
		// enable Jackson to handle the unquoted field name
		// see https://www.mkyong.com/java/jackson-was-expecting-double-quote-to-start-field-name/
		mapper.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);

		T object = mapper.readValue(json, clazz);

		return object;
	}

}
